import{u as D,r as y,n as h,p as E,d as a,w as t,a as d,o as w,h as T,e as l}from"./index-CDzqZl3V.js";const k={__name:"List",setup(M){const r=D(),u=y([]),i=y([]),p=[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Personnel",value:"personnel"},{text:"Min Amount",value:"min_amount"},{text:"Max Amount",value:"max_amount"},{text:"Interest Rate",value:"interest_rate"},{text:"Min Duration (Months)",value:"min_duration_months"},{text:"Max Duration (Months)",value:"max_duration_months"},{text:"Create At",value:"create_at"},{text:"Update At",value:"update_at"},{text:"Edit",value:"edit"},{text:"Delete",value:"delete"}],m=async(s,e=!1)=>{let n;e?n="loans/fund-type":n="loans/type",await r.fetchData(`${n}/${s}/`,{headers:{"Content-Type":"application/json"},method:"DELETE"}),await f()},f=async()=>{try{const s=await r.fetchData("loans/type/",{headers:{"Content-Type":"application/json"},method:"GET"});u.value=s.results||[];const e=await r.fetchData("loans/fund-type/",{headers:{"Content-Type":"application/json"},method:"GET"});i.value=e.results||[]}catch(s){console.error("Failed to fetch data:",s)}};return h(()=>{f()}),(s,e)=>{const n=d("v-btn"),c=d("v-card-title"),_=d("v-data-table"),v=d("v-card-text"),x=d("v-card");return w(),E("div",null,[a(x,null,{default:t(()=>[a(c,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[1]||(e[1]=T("span",null,"Loan Types",-1)),a(n,{to:{name:"personnel-create"},text:""},{default:t(()=>e[0]||(e[0]=[l(" Create ")])),_:1})]),_:1}),a(v,null,{default:t(()=>[a(_,{headers:p,items:u.value,"items-per-page":10,"hide-default-footer":"",class:"elevation-1"},{"item.edit":t(({item:o})=>[a(n,{to:{name:"personnel-edit",params:{id:o.id}}},{default:t(()=>e[2]||(e[2]=[l(" Edit ")])),_:2},1032,["to"])]),"item.delete":t(({item:o})=>[a(n,{onClick:C=>m(o.id),color:"red"},{default:t(()=>e[3]||(e[3]=[l(" Delete ")])),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1}),a(x,{class:"mt-4"},{default:t(()=>[a(c,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[5]||(e[5]=T("span",null,"Fund Types",-1)),a(n,{to:{name:"personnel-create",query:{isFund:!0}},text:""},{default:t(()=>e[4]||(e[4]=[l(" Create ")])),_:1})]),_:1}),a(v,null,{default:t(()=>[a(_,{headers:p,items:i.value,"items-per-page":5,"hide-default-footer":"",class:"elevation-1"},{"item.edit":t(({item:o})=>[a(n,{to:{name:"personnel-edit",params:{id:o.id},query:{isFund:!0}}},{default:t(()=>e[6]||(e[6]=[l(" Edit ")])),_:2},1032,["to"])]),"item.delete":t(({item:o})=>[a(n,{onClick:C=>m(o.id,!0),color:"red"},{default:t(()=>e[7]||(e[7]=[l(" Delete ")])),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})])}}};export{k as default};
